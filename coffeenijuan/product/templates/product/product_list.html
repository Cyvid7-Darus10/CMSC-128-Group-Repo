{% extends "base1.html" %}
{% load static %}

{% block content %}
    <article class="container-fluid m-0 px-5 py-3 row">
		<section class="col-12 col-lg-3 glass-backdrop" style="height: fit-content;">
			<div class="col-12 row h3 d-none d-lg-block text-center mt-2">
				<img class="img-fluid col-2" src = "{% static 'resources/filter.png' %}"/>
				<span class="col-9"> Search Filter</span>
			</div>	
			<!--Rating and Price Range-->
			<form method="POST">
				{% csrf_token %}
				<div class="col-12 mt-0 mt-lg-5">
					<span class="h4"> Rating </span>
					<fieldset class="rating me-auto">
						{% if rating == "5" %}
							<input type="radio" id="star5" name="rating" value="5" checked/>
						{% else %}
							<input type="radio" id="star5" name="rating" value="5"/>
						{% endif %}
						<label class="full" for="star5"></label>
						
						{% if rating == "4.5" %}
							<input type="radio" id="star4half" name="rating" value="4.5" checked/>
						{% else %}
							<input type="radio" id="star4half" name="rating" value="4.5"/>
						{% endif %}
						<label class="half" for="star4half"></label>

						{% if rating == "4" %}
							<input type="radio" id="star4" name="rating" value="4" checked/>
						{% else %}
							<input type="radio" id="star4" name="rating" value="4"/>
						{% endif %}
						<label class="full" for="star4"></label>

						{% if rating == "3.5" %}
							<input type="radio" id="star3half" name="rating" value="3.5" checked/>
						{% else %}
							<input type="radio" id="star3half" name="rating" value="3.5"/>
						{% endif %}
						<label class="half" for="star3half"></label>

						{% if rating == "3" %}
							<input type="radio" id="star3" name="rating" value="3" checked/>
						{% else %}
							<input type="radio" id="star3" name="rating" value="3"/>
						{% endif %}
						<label class="full" for="star3"></label>

						{% if rating == "2.5" %}
							<input type="radio" id="star2half" name="rating" value="2.5" checked/>
						{% else %}
							<input type="radio" id="star2half" name="rating" value="2.5"/>
						{% endif %}
						<label class="half" for="star2half"></label>

						{% if rating == "2" %}
							<input type="radio" id="star2" name="rating" value="2" checked/>
						{% else %}
							<input type="radio" id="star2" name="rating" value="2"/>
						{% endif %}
						<label class="full" for="star2"></label>

						{% if rating == "1.5" %}
							<input type="radio" id="star1half" name="rating" value="1.5" checked/>
						{% else %}
							<input type="radio" id="star1half" name="rating" value="1.5"/>
						{% endif %}
						<label class="half" for="star1half"></label>

						{% if rating == "1" %}
							<input type="radio" id="star1" name="rating" value="1" checked/>
						{% else %}
							<input type="radio" id="star1" name="rating" value="1"/>
						{% endif %}
						<label class="full" for="star1"></label>

						{% if rating == "0.5" %}
							<input type="radio" id="starhalf" name="rating" value="0.5" checked/>
						{% else %}
							<input type="radio" id="starhalf" name="rating" value="0.5"/>
						{% endif %}
						<label class="half" for="starhalf"></label>
					</fieldset>
				</div>
				<div class="col-12 mt-5">
					<span class="h4"> Price Range </span>
					<div class= "row">
						
						<div class="input-group w-50">
							<span class="input-group-text" id="addon-wrapping">Php</span>
							<input type="number" name="min" class="form-control" placeholder="Min" aria-label="Min" aria-describedby="addon-wrapping">
						</div>
						
						<div class="input-group w-50">
							<span class="input-group-text" id="addon-wrapping">Php</span>
							<input type="number" name="max" class="form-control" placeholder="Max" aria-label="Max" aria-describedby="addon-wrapping">
						</div>
					</div>			
				</div>

				<div class="submit-btn animation-btn-container col-12 mt-5">
					<span class="su_button_circle"></span>
					<div class="col-10-md-1 animation-btn">
						<input class="button_text_container" type="submit" value="APPLY">        
					</div>
				</div>
			</form>
		</section>	
		
		<section class="col-12 col-lg-9 border border-dark">
			<div class="row " style="overflow-y: scroll; height: 80vh;">
				<!-- Loops the products data -->
				{% for product in products %}
					{% if product.label != "Shipping Fee" %}
					<a href="{% url 'product:product_item' product.id %}" class="d-block col-6 col-lg-3 p-2 text-decoration-none">
						<img class="img-fluid" src="/media/{{ product.image }}"/>
						<div class="bg-light px-2 py-1">
							<p class="h6 fw-bolder text-truncate">{{product.label}}</p>
							<div class="d-flex d-row justify-content-between ">
								<p class="h6 text-truncate">Php {{ product.price }}</p>
								<p class="h6 text-truncate">{{ product.rating }} Stars</p>
							</div>
						</div>
					</a>
					{% endif %}
				{% endfor %}
			</div>
		</section>
	</article>	
{% endblock %}